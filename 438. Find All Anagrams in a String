public List<Integer> findAnagrams(String s, String p) {
    List<Integer> result = new ArrayList<>();
    int[] dict = new int[256];
    for (int i = 0; i < p.length(); ++ i) {
        ++ dict[p.charAt(i)];
    }
    for (int i = 0; i <= s.length() - p.length(); ++ i) {
        int[] tdict = dict.clone();
        int success = 1;
        for (int j = i; j < i + p.length(); ++ j) {
            -- tdict[s.charAt(j)];
            if (tdict[s.charAt(j)] < 0) {
                success = 0;
                break;
            }
        }
        if (success > 0) {
            result.add(i);
        }
    }
    return result;
}
